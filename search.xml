<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>IDEA整合SSM，并使用PageHelper实现分页功能(超完整版)</title>
      <link href="2021/09/27/IDEA%E6%95%B4%E5%90%88SSM,%E5%B9%B6%E4%BD%BF%E7%94%A8PageHelper%E5%AE%9E%E7%8E%B0%E5%88%86%E9%A1%B5%E5%8A%9F%E8%83%BD/"/>
      <url>2021/09/27/IDEA%E6%95%B4%E5%90%88SSM,%E5%B9%B6%E4%BD%BF%E7%94%A8PageHelper%E5%AE%9E%E7%8E%B0%E5%88%86%E9%A1%B5%E5%8A%9F%E8%83%BD/</url>
      
        <content type="html"><![CDATA[<h2 id="使用到的技术："><a href="#使用到的技术：" class="headerlink" title="使用到的技术："></a>使用到的技术：</h2><ul><li>Spring、SpringMVC、Mybatis</li><li>Maven</li><li>MySQL(版本:8.0.23)</li><li>Bootstrap</li><li>PageHelper</li></ul><h2 id="创建一个Maven项目，选择webapp"><a href="#创建一个Maven项目，选择webapp" class="headerlink" title="创建一个Maven项目，选择webapp"></a>创建一个Maven项目，选择webapp</h2><p><img src="https://cdn.jsdelivr.net/gh/arvinsblog/cdn@master/img/202109271626065.png" alt="image-20210927145846287"></p><p><img src="https://cdn.jsdelivr.net/gh/arvinsblog/cdn@master/img/202109271626067.png" alt="image-20210927145930632"></p><p><img src="https://cdn.jsdelivr.net/gh/arvinsblog/cdn@master/img/202109271626069.png" alt="image-20210927150211632"></p><p><img src="https://cdn.jsdelivr.net/gh/arvinsblog/cdn@master/img/202109271626070.png" alt="image-20210927150247026"></p><h2 id="在pom文件中导入相关依赖"><a href="#在pom文件中导入相关依赖" class="headerlink" title="在pom文件中导入相关依赖"></a>在pom文件中导入相关依赖</h2><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--分页插件--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.github.pagehelper<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>pagehelper<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>5.2.1<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--Junit--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>junit<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>junit<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>4.13<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--数据库驱动--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>mysql<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mysql-connector-java<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>8.0.23<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- 数据库连接池 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.alibaba<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>druid<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.2.6<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">&lt;!--Servlet - JSP --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>javax.servlet<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>servlet-api<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.5<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>javax.servlet.jsp<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>jsp-api<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.1<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>javax.servlet<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>jstl<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.2<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">&lt;!--Mybatis--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.mybatis<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mybatis<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.5.7<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.mybatis<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mybatis-spring<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.0.6<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">&lt;!--Spring--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-webmvc<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>5.2.0.RELEASE<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-jdbc<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>5.3.9<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">&lt;!--lombok--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.projectlombok<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>lombok<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.18.12<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">scope</span>&gt;</span>provided<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">&lt;!--jackson--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.fasterxml.jackson.core<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>jackson-databind<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.12.3<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.fasterxml.jackson.core<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>jackson-core<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.12.3<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>log4j<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>log4j<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.2.17<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="配置web-xml"><a href="#配置web-xml" class="headerlink" title="配置web.xml"></a>配置web.xml</h2><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">web-app</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://xmlns.jcp.org/xml/ns/javaee&quot;</span></span></span><br><span class="line"><span class="tag">         <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">         <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_4_0.xsd&quot;</span></span></span><br><span class="line"><span class="tag">         <span class="attr">version</span>=<span class="string">&quot;4.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--配置DispatcherServlet，是SpringMVC的核心，又名前端控制器；用于拦截符合配置的 url 请求、分发请求--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>springmvc<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">servlet-class</span>&gt;</span>org.springframework.web.servlet.DispatcherServlet<span class="tag">&lt;/<span class="name">servlet-class</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--DispatcherServlet需要绑定Spring的配置文件--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">init-param</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">param-name</span>&gt;</span>contextConfigLocation<span class="tag">&lt;/<span class="name">param-name</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">param-value</span>&gt;</span>classpath:applicationContext.xml<span class="tag">&lt;/<span class="name">param-value</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">init-param</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--设置启动级别1：随着服务器的启动而启动--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">load-on-startup</span>&gt;</span>1<span class="tag">&lt;/<span class="name">load-on-startup</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">servlet</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-mapping</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>springmvc<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">url-pattern</span>&gt;</span>/<span class="tag">&lt;/<span class="name">url-pattern</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">servlet-mapping</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!--配置过滤器，防止乱码--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">filter</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">filter-name</span>&gt;</span>encoding<span class="tag">&lt;/<span class="name">filter-name</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">filter-class</span>&gt;</span>org.springframework.web.filter.CharacterEncodingFilter<span class="tag">&lt;/<span class="name">filter-class</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">init-param</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">param-name</span>&gt;</span>encoding<span class="tag">&lt;/<span class="name">param-name</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">param-value</span>&gt;</span>utf-8<span class="tag">&lt;/<span class="name">param-value</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">init-param</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">filter</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">filter-mapping</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">filter-name</span>&gt;</span>encoding<span class="tag">&lt;/<span class="name">filter-name</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">url-pattern</span>&gt;</span>/*<span class="tag">&lt;/<span class="name">url-pattern</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">filter-mapping</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">web-app</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="创建spring-mvc-xml"><a href="#创建spring-mvc-xml" class="headerlink" title="创建spring-mvc.xml"></a>创建spring-mvc.xml</h2><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://www.springframework.org/schema/beans&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:mvc</span>=<span class="string">&quot;http://www.springframework.org/schema/mvc&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://www.springframework.org/schema/beans</span></span></span><br><span class="line"><span class="tag"><span class="string">       http://www.springframework.org/schema/beans/spring-beans.xsd</span></span></span><br><span class="line"><span class="tag"><span class="string">       http://www.springframework.org/schema/mvc</span></span></span><br><span class="line"><span class="tag"><span class="string">       https://www.springframework.org/schema/mvc/spring-mvc.xsd&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!--开启mvc的注解支持--&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--&lt;mvc:annotation-driven/&gt;--&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--开启mvc的注解支持，同时解决json乱码问题，这是固定的，记住怎么使用就可以--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">mvc:annotation-driven</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">mvc:message-converters</span> <span class="attr">register-defaults</span>=<span class="string">&quot;true&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">bean</span> <span class="attr">class</span>=<span class="string">&quot;org.springframework.http.converter.StringHttpMessageConverter&quot;</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">constructor-arg</span> <span class="attr">value</span>=<span class="string">&quot;UTF-8&quot;</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">bean</span> <span class="attr">class</span>=<span class="string">&quot;org.springframework.http.converter.json.MappingJackson2HttpMessageConverter&quot;</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;objectMapper&quot;</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">class</span>=<span class="string">&quot;org.springframework.http.converter.json.Jackson2ObjectMapperFactoryBean&quot;</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;failOnEmptyBeans&quot;</span> <span class="attr">value</span>=<span class="string">&quot;false&quot;</span>/&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">mvc:message-converters</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">mvc:annotation-driven</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- 让Spring MVC不处理静态资源，比如.css .js .mp4 .jpg .html等 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">mvc:default-servlet-handler</span>/&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!--配置视图解析器--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">class</span>=<span class="string">&quot;org.springframework.web.servlet.view.InternalResourceViewResolver&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;prefix&quot;</span> <span class="attr">value</span>=<span class="string">&quot;/&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;suffix&quot;</span> <span class="attr">value</span>=<span class="string">&quot;.jsp&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="创建mybatis-config-xml"><a href="#创建mybatis-config-xml" class="headerlink" title="创建mybatis-config.xml"></a>创建mybatis-config.xml</h2><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;</span></span><br><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">configuration</span></span></span><br><span class="line"><span class="meta">        <span class="meta-keyword">PUBLIC</span> <span class="meta-string">&quot;-//mybatis.org//DTD Config 3.0//EN&quot;</span></span></span><br><span class="line"><span class="meta">        <span class="meta-string">&quot;http://mybatis.org/dtd/mybatis-3-config.dtd&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!--设置--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">settings</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--设置日志--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">setting</span> <span class="attr">name</span>=<span class="string">&quot;logImpl&quot;</span> <span class="attr">value</span>=<span class="string">&quot;LOG4J&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">settings</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!--起别名--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">typeAliases</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">package</span> <span class="attr">name</span>=<span class="string">&quot;com.bao.pojo&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">typeAliases</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!--引入pageHelper分页插件，注意整个plugins标签位置,位置不对会报错！--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">plugins</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">plugin</span> <span class="attr">interceptor</span>=<span class="string">&quot;com.github.pagehelper.PageInterceptor&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">plugins</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!--关联mapper.xml文件--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">mappers</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">mapper</span> <span class="attr">resource</span>=<span class="string">&quot;mapper/UserMapper.xml&quot;</span>/&gt;</span></span><br><span class="line"><span class="comment">&lt;!--        &lt;mapper class=&quot;com.bao.mapper.UserMapper&quot;/&gt;--&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">mappers</span>&gt;</span></span><br><span class="line">    </span><br><span class="line"><span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="创建UserMapper-xml"><a href="#创建UserMapper-xml" class="headerlink" title="创建UserMapper.xml"></a>创建UserMapper.xml</h2><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;</span></span><br><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">mapper</span></span></span><br><span class="line"><span class="meta">        <span class="meta-keyword">PUBLIC</span> <span class="meta-string">&quot;-//mybatis.org//DTD Config 3.0//EN&quot;</span></span></span><br><span class="line"><span class="meta">        <span class="meta-string">&quot;http://mybatis.org/dtd/mybatis-3-mapper.dtd&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">mapper</span> <span class="attr">namespace</span>=<span class="string">&quot;com.bao.mapper.UserMapper&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!--增--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">insert</span> <span class="attr">id</span>=<span class="string">&quot;addUser&quot;</span> <span class="attr">parameterType</span>=<span class="string">&quot;user&quot;</span>&gt;</span></span><br><span class="line">        insert into user(name,gender,age,address,qq,email)</span><br><span class="line">        values(#&#123;name&#125;,#&#123;gender&#125;,#&#123;age&#125;,#&#123;address&#125;,#&#123;qq&#125;,#&#123;email&#125;)</span><br><span class="line">    <span class="tag">&lt;/<span class="name">insert</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!--删--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">delete</span> <span class="attr">id</span>=<span class="string">&quot;deleteUser&quot;</span> <span class="attr">parameterType</span>=<span class="string">&quot;int&quot;</span>&gt;</span></span><br><span class="line">        delete from user where id = #&#123;id&#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">delete</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!--改--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">update</span> <span class="attr">id</span>=<span class="string">&quot;updateUser&quot;</span> <span class="attr">parameterType</span>=<span class="string">&quot;user&quot;</span>&gt;</span></span><br><span class="line">        update user set name=#&#123;name&#125;,gender=#&#123;gender&#125;,age=#&#123;age&#125;,address=#&#123;address&#125;,qq=#&#123;qq&#125;,email=#&#123;email&#125; where id=#&#123;id&#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">update</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!--查所有--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;queryAllUser&quot;</span> <span class="attr">resultType</span>=<span class="string">&quot;user&quot;</span>&gt;</span></span><br><span class="line">        select * from user</span><br><span class="line">    <span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!--根据id查一个--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;queryUserById&quot;</span> <span class="attr">resultType</span>=<span class="string">&quot;user&quot;</span> <span class="attr">parameterType</span>=<span class="string">&quot;int&quot;</span>&gt;</span></span><br><span class="line">        select * from user where id=#&#123;id&#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!--根据条件查询--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;conditionQuery&quot;</span> <span class="attr">resultType</span>=<span class="string">&quot;user&quot;</span> <span class="attr">parameterType</span>=<span class="string">&quot;user&quot;</span>&gt;</span></span><br><span class="line">        select * from user</span><br><span class="line">        <span class="tag">&lt;<span class="name">where</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">if</span> <span class="attr">test</span>=<span class="string">&quot;name != null and name != &#x27;&#x27;&quot;</span>&gt;</span></span><br><span class="line">                name = #&#123;name&#125;</span><br><span class="line">            <span class="tag">&lt;/<span class="name">if</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">if</span> <span class="attr">test</span>=<span class="string">&quot;gender != null and gender != &#x27;&#x27;&quot;</span>&gt;</span></span><br><span class="line">                and gender = #&#123;gender&#125;</span><br><span class="line">            <span class="tag">&lt;/<span class="name">if</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">if</span> <span class="attr">test</span>=<span class="string">&quot;address != null and address != &#x27;&#x27;&quot;</span>&gt;</span></span><br><span class="line">                and address = #&#123;address&#125;</span><br><span class="line">            <span class="tag">&lt;/<span class="name">if</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">where</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">mapper</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="创建spring-mapper-xml"><a href="#创建spring-mapper-xml" class="headerlink" title="创建spring-mapper.xml"></a>创建spring-mapper.xml</h2><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://www.springframework.org/schema/beans&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:context</span>=<span class="string">&quot;http://www.springframework.org/schema/context&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://www.springframework.org/schema/beans</span></span></span><br><span class="line"><span class="tag"><span class="string">       http://www.springframework.org/schema/beans/spring-beans.xsd http://www.springframework.org/schema/context https://www.springframework.org/schema/context/spring-context.xsd&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!--导入druid.properties进行关联--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">context:property-placeholder</span> <span class="attr">location</span>=<span class="string">&quot;classpath:druid.properties&quot;</span>/&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--配置数据库连接池--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;dataSource&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.alibaba.druid.pool.DruidDataSource&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;driverClassName&quot;</span> <span class="attr">value</span>=<span class="string">&quot;$&#123;jdbc.driverClassName&#125;&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;url&quot;</span> <span class="attr">value</span>=<span class="string">&quot;$&#123;jdbc.url&#125;&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;username&quot;</span> <span class="attr">value</span>=<span class="string">&quot;$&#123;jdbc.username&#125;&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;password&quot;</span> <span class="attr">value</span>=<span class="string">&quot;$&#123;jdbc.password&#125;&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!--配置SqlSessionFactory对象,该对象可以生成SqlSession对象--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;sqlSessionFactory&quot;</span> <span class="attr">class</span>=<span class="string">&quot;org.mybatis.spring.SqlSessionFactoryBean&quot;</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--连接数据源--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;dataSource&quot;</span> <span class="attr">ref</span>=<span class="string">&quot;dataSource&quot;</span>/&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--绑定Mybatis的配置文件--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;configLocation&quot;</span> <span class="attr">value</span>=<span class="string">&quot;classpath:mybatis-config.xml&quot;</span>/&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!--配置MapperScannerConfigurer，将创建的接口的都自动注入到了SqlSessionFactory中，</span></span><br><span class="line"><span class="comment">        给每个接口创建了实例--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">class</span>=<span class="string">&quot;org.mybatis.spring.mapper.MapperScannerConfigurer&quot;</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--确定哪个包下的接口需要创建实体类--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;basePackage&quot;</span> <span class="attr">value</span>=<span class="string">&quot;com.bao.mapper&quot;</span>/&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--指定需要注入到哪一个SqlSessionFactory中--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;sqlSessionFactoryBeanName&quot;</span> <span class="attr">value</span>=<span class="string">&quot;sqlSessionFactory&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="配置druid-properties"><a href="#配置druid-properties" class="headerlink" title="配置druid.properties"></a>配置druid.properties</h2><figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">jdbc.driverClassName</span>=<span class="string">com.mysql.cj.jdbc.Driver</span></span><br><span class="line"><span class="meta">jdbc.url</span>=<span class="string">jdbc:mysql://localhost:3306/ssmtest?useSSL=true&amp;useUnicode=true&amp;characterEncoding=utf8</span></span><br><span class="line"><span class="meta">jdbc.username</span>=<span class="string">mvctest</span></span><br><span class="line"><span class="meta">jdbc.password</span>=<span class="string">mvctest</span></span><br></pre></td></tr></table></figure><h2 id="配置log4j-properties"><a href="#配置log4j-properties" class="headerlink" title="配置log4j.properties"></a>配置log4j.properties</h2><figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">log4j.rootLogger</span>=<span class="string">DEBUG,console,file</span></span><br><span class="line"><span class="meta">log4j.appender.console</span> = <span class="string">org.apache.log4j.ConsoleAppender </span></span><br><span class="line"><span class="meta">log4j.appender.console.Target</span> = <span class="string">System.out</span></span><br><span class="line"><span class="meta">log4j.appender.console.Threshold</span>=<span class="string">DEBUG</span></span><br><span class="line"><span class="meta">log4j.appender.console.layout</span> = <span class="string">org.apache.log4j.PatternLayout</span></span><br><span class="line"><span class="meta">log4j.appender.console.layout.ConversionPattern</span>=<span class="string">[%c]-%m%n</span></span><br><span class="line"><span class="meta">log4j.appender.file</span> = <span class="string">org.apache.log4j.RollingFileAppender</span></span><br><span class="line"><span class="meta">log4j.appender.file.File</span>=<span class="string">./log/bao.log</span></span><br><span class="line"><span class="meta">log4j.appender.file.MaxFileSize</span>=<span class="string">10mb</span></span><br><span class="line"><span class="meta">log4j.appender.file.Threshold</span>=<span class="string">DEBUG</span></span><br><span class="line"><span class="meta">log4j.appender.file.layout</span>=<span class="string">org.apache.log4j.PatternLayout</span></span><br><span class="line"><span class="meta">log4j.appender.file.layout.ConversionPattern</span>=<span class="string">[%p][%d&#123;yy-MM-dd&#125;][%c]%m%n</span></span><br><span class="line"><span class="meta">log4j.logger.org.mybatis</span>=<span class="string">DEBUG</span></span><br><span class="line"><span class="meta">log4j.logger.java.sql</span>=<span class="string">DEBUG</span></span><br><span class="line"><span class="meta">log4j.logger.java.sql.Statement</span>=<span class="string">DEBUG</span></span><br><span class="line"><span class="meta">log4j.logger.java.sql.ResultSet</span>=<span class="string">DEBUG</span></span><br><span class="line"><span class="meta">log4j.logger.java.sql.PreparedStatement</span>=<span class="string">DEBUG</span></span><br></pre></td></tr></table></figure><h2 id="创建spring-service-xml"><a href="#创建spring-service-xml" class="headerlink" title="创建spring-service.xml"></a>创建spring-service.xml</h2><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://www.springframework.org/schema/beans&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span> <span class="attr">xmlns:tx</span>=<span class="string">&quot;http://www.springframework.org/schema/tx&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx.xsd&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- 配置事务管理器 --&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--1.创建事务管理器--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;transactionManager&quot;</span> <span class="attr">class</span>=<span class="string">&quot;org.springframework.jdbc.datasource.DataSourceTransactionManager&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">constructor-arg</span> <span class="attr">ref</span>=<span class="string">&quot;dataSource&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!--2.开启事务注解，需要导入tx命名空间--&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--transaction-manager=&quot;transactionManager&quot; : 绑定事务管理器--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">tx:annotation-driven</span> <span class="attr">transaction-manager</span>=<span class="string">&quot;transactionManager&quot;</span>/&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="创建applicationContext-xml"><a href="#创建applicationContext-xml" class="headerlink" title="创建applicationContext.xml"></a>创建applicationContext.xml</h2><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://www.springframework.org/schema/beans&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:context</span>=<span class="string">&quot;http://www.springframework.org/schema/context&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd http://www.springframework.org/schema/context https://www.springframework.org/schema/context/spring-context.xsd&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">   </span><br><span class="line">    <span class="tag">&lt;<span class="name">context:component-scan</span> <span class="attr">base-package</span>=<span class="string">&quot;com.bao&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">import</span> <span class="attr">resource</span>=<span class="string">&quot;spring-mapper.xml&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">import</span> <span class="attr">resource</span>=<span class="string">&quot;spring-service.xml&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">import</span> <span class="attr">resource</span>=<span class="string">&quot;spring-mvc.xml&quot;</span>/&gt;</span></span><br><span class="line">    </span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="创建User类"><a href="#创建User类" class="headerlink" title="创建User类"></a>创建User类</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.bao.pojo;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> lombok.AllArgsConstructor;</span><br><span class="line"><span class="keyword">import</span> lombok.Data;</span><br><span class="line"><span class="keyword">import</span> lombok.NoArgsConstructor;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Component;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> Arvinsblog</span></span><br><span class="line"><span class="comment"> * Date:2021/9/26</span></span><br><span class="line"><span class="comment"> * Time:20:50</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="meta">@AllArgsConstructor</span></span><br><span class="line"><span class="meta">@NoArgsConstructor</span></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">User</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> Integer id;</span><br><span class="line">    <span class="keyword">private</span> String username;</span><br><span class="line">    <span class="keyword">private</span> String password;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> String gender;</span><br><span class="line">    <span class="keyword">private</span> Integer age;</span><br><span class="line">    <span class="keyword">private</span> String address;</span><br><span class="line">    <span class="keyword">private</span> String qq;</span><br><span class="line">    <span class="keyword">private</span> String email;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="创建UserMapper"><a href="#创建UserMapper" class="headerlink" title="创建UserMapper"></a>创建UserMapper</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.bao.mapper;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.bao.pojo.User;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Component;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> Arvinsblog</span></span><br><span class="line"><span class="comment"> * Date:2021/9/26</span></span><br><span class="line"><span class="comment"> * Time:20:49</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">UserMapper</span> </span>&#123;</span><br><span class="line"><span class="comment">//    增</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">addUser</span><span class="params">(User user)</span></span>;</span><br><span class="line"><span class="comment">//    删</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">deleteUser</span><span class="params">(<span class="keyword">int</span> id)</span></span>;</span><br><span class="line"><span class="comment">//    改</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">updateUser</span><span class="params">(User user)</span></span>;</span><br><span class="line"><span class="comment">//    查所有</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> List&lt;User&gt; <span class="title">queryAllUser</span><span class="params">()</span></span>;</span><br><span class="line"><span class="comment">//    根据id查询</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> User <span class="title">queryUserById</span><span class="params">(<span class="keyword">int</span> id)</span></span>;</span><br><span class="line"><span class="comment">//    条件查询</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> List&lt;User&gt; <span class="title">conditionQuery</span><span class="params">(User user)</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="创建UserService"><a href="#创建UserService" class="headerlink" title="创建UserService"></a>创建UserService</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">package com.bao.service;</span><br><span class="line"></span><br><span class="line">import com.bao.pojo.User;</span><br><span class="line">import org.apache.ibatis.annotations.Select;</span><br><span class="line">import org.springframework.stereotype.Component;</span><br><span class="line"></span><br><span class="line">import java.util.List;</span><br><span class="line">import java.util.Map;</span><br><span class="line"></span><br><span class="line">&#x2F;**</span><br><span class="line"> * @author Arvinsblog</span><br><span class="line"> * Date:2021&#x2F;9&#x2F;26</span><br><span class="line"> * Time:20:58</span><br><span class="line"> *&#x2F;</span><br><span class="line">@Component</span><br><span class="line">public interface UserService &#123;</span><br><span class="line">    &#x2F;&#x2F;    增</span><br><span class="line">    public int addUser(User user);</span><br><span class="line">    &#x2F;&#x2F;    删</span><br><span class="line">    public int deleteUser(int id);</span><br><span class="line">    &#x2F;&#x2F;    改</span><br><span class="line">    public int updateUser(User user);</span><br><span class="line">    &#x2F;&#x2F;    查所有</span><br><span class="line">    public List&lt;User&gt; queryAllUser();</span><br><span class="line">    &#x2F;&#x2F;    根据id查询</span><br><span class="line">    public User queryUserById(int id);</span><br><span class="line">    &#x2F;&#x2F;    条件查询</span><br><span class="line">    public List&lt;User&gt; conditionQuery(User user);</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="创建接口实现类UserServiceImpl"><a href="#创建接口实现类UserServiceImpl" class="headerlink" title="创建接口实现类UserServiceImpl"></a>创建接口实现类UserServiceImpl</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.bao.service.Impl;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.bao.mapper.UserMapper;</span><br><span class="line"><span class="keyword">import</span> com.bao.pojo.User;</span><br><span class="line"><span class="keyword">import</span> com.bao.service.UserService;</span><br><span class="line"><span class="keyword">import</span> org.springframework.beans.factory.annotation.Autowired;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Service;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> Arvinsblog</span></span><br><span class="line"><span class="comment"> * Date:2021/9/26</span></span><br><span class="line"><span class="comment"> * Time:20:59</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Service</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">UserServiceImpl</span> <span class="keyword">implements</span> <span class="title">UserService</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> UserMapper userMapper;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">addUser</span><span class="params">(User user)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> userMapper.addUser(user);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">deleteUser</span><span class="params">(<span class="keyword">int</span> id)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> userMapper.deleteUser(id);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">updateUser</span><span class="params">(User user)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> userMapper.updateUser(user);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> List&lt;User&gt; <span class="title">queryAllUser</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> userMapper.queryAllUser();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> User <span class="title">queryUserById</span><span class="params">(<span class="keyword">int</span> id)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> userMapper.queryUserById(id);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> List&lt;User&gt; <span class="title">conditionQuery</span><span class="params">(User user)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> userMapper.conditionQuery(user);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="创建Controller"><a href="#创建Controller" class="headerlink" title="创建Controller"></a>创建Controller</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.bao.controller;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.bao.pojo.User;</span><br><span class="line"><span class="keyword">import</span> com.bao.service.Impl.UserServiceImpl;</span><br><span class="line"><span class="keyword">import</span> com.github.pagehelper.PageHelper;</span><br><span class="line"><span class="keyword">import</span> com.github.pagehelper.PageInfo;</span><br><span class="line"><span class="keyword">import</span> org.springframework.beans.factory.annotation.Autowired;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Component;</span><br><span class="line"><span class="keyword">import</span> org.springframework.ui.Model;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.*;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> Arvinsblog</span></span><br><span class="line"><span class="comment"> * Date:2021/9/26</span></span><br><span class="line"><span class="comment"> * Time:22:24</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="meta">@RequestMapping(&quot;/user&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">UserController</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> UserServiceImpl userServiceImpl;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//查询所有并分页显示</span></span><br><span class="line">    <span class="meta">@GetMapping(&quot;/list&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">queryAllUser</span><span class="params">(<span class="meta">@RequestParam(value = &quot;page&quot;, defaultValue = &quot;1&quot;)</span> Integer page, Model model)</span></span>&#123;</span><br><span class="line">        <span class="comment">//获取指定页数据，每页显示8条数据</span></span><br><span class="line">        PageHelper.startPage(page, <span class="number">8</span>);</span><br><span class="line">        <span class="comment">//紧跟的第一个select方法被分页</span></span><br><span class="line">        List&lt;User&gt; users = userServiceImpl.queryAllUser();</span><br><span class="line">        model.addAttribute(<span class="string">&quot;users&quot;</span>,users);</span><br><span class="line">        <span class="comment">//使用PageInfo包装数据 navigatePages表示导航标签的数量</span></span><br><span class="line">        PageInfo pageInfo = <span class="keyword">new</span> PageInfo(users, <span class="number">5</span>);</span><br><span class="line">        model.addAttribute(<span class="string">&quot;pageInfo&quot;</span>, pageInfo);</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;user/list&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//查所有</span></span><br><span class="line"><span class="comment">//    @GetMapping(&quot;/list&quot;)</span></span><br><span class="line"><span class="comment">////    @ResponseBody</span></span><br><span class="line"><span class="comment">//    public String queryAllUser(Model model)&#123;</span></span><br><span class="line"><span class="comment">//        List&lt;User&gt; users = userServiceImpl.queryAllUser();</span></span><br><span class="line"><span class="comment">//        model.addAttribute(&quot;users&quot;,users);</span></span><br><span class="line"><span class="comment">//        return &quot;user/list&quot;;</span></span><br><span class="line"><span class="comment">//    &#125;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="项目结构"><a href="#项目结构" class="headerlink" title="项目结构"></a>项目结构</h2><p><img src="https://cdn.jsdelivr.net/gh/arvinsblog/cdn@master/img/202109271626071.png" alt="image-20210927153853911"></p><h2 id="创建lib文件夹，导入依赖（否则Tomcat无法启动）"><a href="#创建lib文件夹，导入依赖（否则Tomcat无法启动）" class="headerlink" title="创建lib文件夹，导入依赖（否则Tomcat无法启动）"></a>创建lib文件夹，导入依赖（否则Tomcat无法启动）</h2><p><img src="https://cdn.jsdelivr.net/gh/arvinsblog/cdn@master/img/202109271626072.png" alt="image-20210927155833124"></p><p><img src="https://cdn.jsdelivr.net/gh/arvinsblog/cdn@master/img/202109271626073.png" alt="image-20210927160301189"></p><p>​    </p><p><img src="https://cdn.jsdelivr.net/gh/arvinsblog/cdn@master/img/202109271626074.png" alt="image-20210927160453433"></p><p>​    </p><p><img src="https://cdn.jsdelivr.net/gh/arvinsblog/cdn@master/img/202109271626075.png" alt="image-20210927160624584"></p><p>​    </p><p><img src="https://cdn.jsdelivr.net/gh/arvinsblog/cdn@master/img/202109271626076.png" alt="image-20210927160701737"></p><h2 id="创建Tomcat-并启动"><a href="#创建Tomcat-并启动" class="headerlink" title="创建Tomcat,并启动"></a>创建Tomcat,并启动</h2><p><img src="https://cdn.jsdelivr.net/gh/arvinsblog/cdn@master/img/202109271626077.png" alt="image-20210927154418402"></p><blockquote><p>注意不要选成TomEE Server</p></blockquote><p>​        <img src="https://cdn.jsdelivr.net/gh/arvinsblog/cdn@master/img/202109271626078.png" alt="image-20210927154515183"></p><p>​    </p><p><img src="https://cdn.jsdelivr.net/gh/arvinsblog/cdn@master/img/202109271626079.png" alt="image-20210927154645694"></p><p>​    </p><p><img src="https://cdn.jsdelivr.net/gh/arvinsblog/cdn@master/img/202109271626080.png" alt="image-20210927162515686"></p><h2 id="创建list-jsp页面负责显示数据，实现分页效果"><a href="#创建list-jsp页面负责显示数据，实现分页效果" class="headerlink" title="创建list.jsp页面负责显示数据，实现分页效果"></a>创建list.jsp页面负责显示数据，实现分页效果</h2><figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br></pre></td><td class="code"><pre><span class="line">&lt;%--</span><br><span class="line">  Created by IntelliJ IDEA.</span><br><span class="line">  User: ZQ</span><br><span class="line">  Date: <span class="number">2021</span>/<span class="number">9</span>/<span class="number">27</span></span><br><span class="line">  Time: <span class="number">9</span>:<span class="number">33</span></span><br><span class="line">  To change <span class="keyword">this</span> template use File | Settings | File Templates.</span><br><span class="line">--%&gt;</span><br><span class="line">&lt;%@ page contentType=<span class="string">&quot;text/html;charset=UTF-8&quot;</span> language=<span class="string">&quot;java&quot;</span> %&gt;</span><br><span class="line">&lt;%@ taglib prefix=<span class="string">&quot;c&quot;</span> uri=<span class="string">&quot;http://java.sun.com/jsp/jstl/core&quot;</span> %&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;title&gt;用户展示&lt;/title&gt;</span><br><span class="line">    &lt;link rel=<span class="string">&quot;stylesheet&quot;</span> href=<span class="string">&quot;http://cdn.bootcss.com/bootstrap/3.3.0/css/bootstrap.min.css&quot;</span>&gt;</span><br><span class="line">    &lt;!-- jQuery文件。务必在bootstrap.min.js 之前引入 --&gt;</span><br><span class="line">    &lt;script src=&quot;http://cdn.bootcss.com/jquery/1.11.1/jquery.min.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">    &lt;script src=&quot;http://cdn.bootcss.com/bootstrap/3.3.0/js/bootstrap.min.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line"></span><br><span class="line">&lt;div style=<span class="string">&quot;width: 1200px;margin: auto&quot;</span> &gt;</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">        &lt;h4 align=&quot;center&quot;&gt;用户展示&lt;/h4&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">        &lt;form style=<span class="string">&quot;float: left;margin: 5px;&quot;</span> <span class="class"><span class="keyword">class</span></span>=<span class="string">&quot;form-inline&quot;</span> action=<span class="string">&quot;$&#123;pageContext.request.contextPath&#125;/user/conditionQuery&quot;</span> method=<span class="string">&quot;get&quot;</span>&gt;</span><br><span class="line">            &lt;div <span class="class"><span class="keyword">class</span></span>=<span class="string">&quot;form-group&quot;</span>&gt;</span><br><span class="line">                &lt;label for=&quot;name&quot;&gt;姓名&lt;/label&gt;</span><br><span class="line">                &lt;input type=<span class="string">&quot;text&quot;</span> name=<span class="string">&quot;name&quot;</span> <span class="class"><span class="keyword">class</span></span>=<span class="string">&quot;form-control&quot;</span> id=<span class="string">&quot;name&quot;</span> &gt;</span><br><span class="line">            &lt;/div&gt;</span><br><span class="line">            &lt;div <span class="class"><span class="keyword">class</span></span>=<span class="string">&quot;form-group&quot;</span>&gt;</span><br><span class="line">                &lt;label for=&quot;gender&quot;&gt;性别&lt;/label&gt;</span><br><span class="line">                &lt;input type=<span class="string">&quot;text&quot;</span> name=<span class="string">&quot;gender&quot;</span> <span class="class"><span class="keyword">class</span></span>=<span class="string">&quot;form-control&quot;</span> id=<span class="string">&quot;gender&quot;</span>  &gt;</span><br><span class="line">            &lt;/div&gt;</span><br><span class="line">            &lt;div <span class="class"><span class="keyword">class</span></span>=<span class="string">&quot;form-group&quot;</span>&gt;</span><br><span class="line">                &lt;label for=&quot;address&quot;&gt;城市&lt;/label&gt;</span><br><span class="line">                &lt;input type=<span class="string">&quot;text&quot;</span> name=<span class="string">&quot;address&quot;</span> <span class="class"><span class="keyword">class</span></span>=<span class="string">&quot;form-control&quot;</span> id=<span class="string">&quot;address&quot;</span> &gt;</span><br><span class="line">            &lt;/div&gt;</span><br><span class="line"></span><br><span class="line">            &lt;button type=&quot;submit&quot; class=&quot;btn btn-success&quot;&gt;查询&lt;/button&gt;</span><br><span class="line"></span><br><span class="line">        &lt;/form&gt;</span><br><span class="line"></span><br><span class="line">        &lt;a style=&quot;float: right;margin: 5px;&quot; class=&quot;btn btn-info&quot; href=&quot;$&#123;pageContext.request.contextPath&#125;/user/add.jsp&quot;&gt;添加联系人&lt;/a&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line"></span><br><span class="line">    &lt;table <span class="class"><span class="keyword">class</span></span>=<span class="string">&quot;table table-hover&quot;</span>&gt;</span><br><span class="line">        &lt;tr&gt;</span><br><span class="line">            &lt;th&gt;序号&lt;/th&gt;</span><br><span class="line">            &lt;th&gt;姓名&lt;/th&gt;</span><br><span class="line">            &lt;th&gt;性别&lt;/th&gt;</span><br><span class="line">            &lt;th&gt;年龄&lt;/th&gt;</span><br><span class="line">            &lt;th&gt;城市&lt;/th&gt;</span><br><span class="line">            &lt;th&gt;QQ&lt;/th&gt;</span><br><span class="line">            &lt;th&gt;邮箱&lt;/th&gt;</span><br><span class="line">            &lt;th&gt;操作&lt;/th&gt;</span><br><span class="line">        &lt;/tr&gt;</span><br><span class="line">        &lt;c:forEach items=<span class="string">&quot;$&#123;users&#125;&quot;</span> <span class="keyword">var</span>=<span class="string">&quot;user&quot;</span> varStatus=<span class="string">&quot;s&quot;</span>&gt;</span><br><span class="line">&lt;%--        &lt;c:forEach items=<span class="string">&quot;$&#123;pageInfo.list&#125;&quot;</span> <span class="keyword">var</span>=<span class="string">&quot;user&quot;</span> varStatus=<span class="string">&quot;s&quot;</span>&gt;--%&gt;</span><br><span class="line">            &lt;tr&gt;</span><br><span class="line">                &lt;td&gt;$&#123;user.id&#125;&lt;/td&gt;</span><br><span class="line">                &lt;td&gt;$&#123;user.name&#125;&lt;/td&gt;</span><br><span class="line">                &lt;td&gt;$&#123;user.gender&#125;&lt;/td&gt;</span><br><span class="line">                &lt;td&gt;$&#123;user.age&#125;&lt;/td&gt;</span><br><span class="line">                &lt;td&gt;$&#123;user.address&#125;&lt;/td&gt;</span><br><span class="line">                &lt;td&gt;$&#123;user.qq&#125;&lt;/td&gt;</span><br><span class="line">                &lt;td&gt;$&#123;user.email&#125;&lt;/td&gt;</span><br><span class="line">                &lt;td&gt;</span><br><span class="line">                    &lt;a class=&quot;btn btn-danger&quot; href=&quot;$&#123;pageContext.request.contextPath&#125;/user/delete/$&#123;user.id&#125;&quot;&gt;删除&lt;/a&gt;</span><br><span class="line">                    &lt;a class=&quot;btn btn-primary&quot; href=&quot;$&#123;pageContext.request.contextPath&#125;/user/queryUserById/$&#123;user.id&#125;&quot;&gt;修改&lt;/a&gt;</span><br><span class="line">                &lt;/td&gt;</span><br><span class="line">            &lt;/tr&gt;</span><br><span class="line">        &lt;/c:forEach&gt;</span><br><span class="line">    &lt;/table&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    &lt;%--分页导航标签--%&gt;</span><br><span class="line">    &lt;div <span class="class"><span class="keyword">class</span></span>=<span class="string">&quot;row&quot;</span>&gt;</span><br><span class="line">        &lt;div <span class="class"><span class="keyword">class</span></span>=<span class="string">&quot;col-md-6&quot;</span>&gt;</span><br><span class="line">            第$&#123;pageInfo.pageNum&#125;页，共$&#123;pageInfo.pages&#125;页，共$&#123;pageInfo.total&#125;条记录</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">        &lt;div <span class="class"><span class="keyword">class</span></span>=<span class="string">&quot;col-md-6 offset-md-4&quot;</span>&gt;</span><br><span class="line">            &lt;nav aria-label=<span class="string">&quot;Page navigation example&quot;</span>&gt;</span><br><span class="line">                &lt;ul <span class="class"><span class="keyword">class</span></span>=<span class="string">&quot;pagination pagination-sm&quot;</span>&gt;</span><br><span class="line">                    &lt;li class=&quot;page-item&quot;&gt;&lt;a class=&quot;page-link&quot; href=&quot;$&#123;pageContext.request.contextPath&#125;/user/list?page=1&quot;&gt;首页&lt;/a&gt;&lt;/li&gt;</span><br><span class="line">                    &lt;c:<span class="keyword">if</span> test=<span class="string">&quot;$&#123;pageInfo.hasPreviousPage&#125;&quot;</span>&gt;</span><br><span class="line">                        &lt;li <span class="class"><span class="keyword">class</span></span>=<span class="string">&quot;page-item&quot;</span>&gt;&lt;a <span class="class"><span class="keyword">class</span></span>=<span class="string">&quot;page-link&quot;</span></span><br><span class="line">                                                 href=&quot;$&#123;pageContext.request.contextPath&#125;/user/list?page=$&#123;pageInfo.pageNum-1&#125;&quot;&gt;上一页&lt;/a&gt;&lt;/li&gt;</span><br><span class="line">                    &lt;/c:if&gt;</span><br><span class="line">                    &lt;c:forEach items=<span class="string">&quot;$&#123;pageInfo.navigatepageNums&#125;&quot;</span> <span class="keyword">var</span>=<span class="string">&quot;page&quot;</span>&gt;</span><br><span class="line">                        &lt;c:<span class="keyword">if</span> test=<span class="string">&quot;$&#123;page==pageInfo.pageNum&#125;&quot;</span>&gt;</span><br><span class="line">                            &lt;li class=&quot;page-item active&quot;&gt;&lt;a class=&quot;page-link&quot; href=&quot;#&quot;&gt;$&#123;page&#125;&lt;/a&gt;&lt;/li&gt;</span><br><span class="line">                        &lt;/c:if&gt;</span><br><span class="line">                        &lt;c:<span class="keyword">if</span> test=<span class="string">&quot;$&#123;page!=pageInfo.pageNum&#125;&quot;</span>&gt;</span><br><span class="line">                            &lt;li <span class="class"><span class="keyword">class</span></span>=<span class="string">&quot;page-item&quot;</span>&gt;&lt;a <span class="class"><span class="keyword">class</span></span>=<span class="string">&quot;page-link&quot;</span></span><br><span class="line">                                                     href=&quot;$&#123;pageContext.request.contextPath&#125;/user/list?page=$&#123;page&#125;&quot;&gt;$&#123;page&#125;&lt;/a&gt;&lt;/li&gt;</span><br><span class="line">                        &lt;/c:if&gt;</span><br><span class="line">                    &lt;/c:forEach&gt;</span><br><span class="line">                    &lt;c:<span class="keyword">if</span> test=<span class="string">&quot;$&#123;pageInfo.hasNextPage&#125;&quot;</span>&gt;</span><br><span class="line">                        &lt;li <span class="class"><span class="keyword">class</span></span>=<span class="string">&quot;page-item&quot;</span>&gt;&lt;a <span class="class"><span class="keyword">class</span></span>=<span class="string">&quot;page-link&quot;</span></span><br><span class="line">                                                 href=&quot;$&#123;pageContext.request.contextPath&#125;/user/list?page=$&#123;pageInfo.pageNum+1&#125;&quot;&gt;下一页&lt;/a&gt;&lt;/li&gt;</span><br><span class="line">                    &lt;/c:if&gt;</span><br><span class="line">                    &lt;li class=&quot;page-item&quot;&gt;&lt;a class=&quot;page-link&quot; href=&quot;$&#123;pageContext.request.contextPath&#125;/user/list?page=$&#123;pageInfo.pages&#125;&quot;&gt;末页&lt;/a&gt;</span><br><span class="line">                    &lt;/li&gt;</span><br><span class="line">                &lt;/ul&gt;</span><br><span class="line">            &lt;/nav&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line"></span><br><span class="line">&lt;/div&gt;</span><br><span class="line"></span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="在浏览器中请求页面，分页功能可正常使用（这里只演示了分页显示，增删改自行实现一下哦）"><a href="#在浏览器中请求页面，分页功能可正常使用（这里只演示了分页显示，增删改自行实现一下哦）" class="headerlink" title="在浏览器中请求页面，分页功能可正常使用（这里只演示了分页显示，增删改自行实现一下哦）"></a>在浏览器中请求页面，分页功能可正常使用（这里只演示了分页显示，增删改自行实现一下哦）</h2><p><img src="https://cdn.jsdelivr.net/gh/arvinsblog/cdn@master/img/202109271626081.png" alt="image-20210927161913656"></p><h2 id="数据库命令"><a href="#数据库命令" class="headerlink" title="数据库命令"></a>数据库命令</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">-- 1. 创建表</span><br><span class="line">create table user(   </span><br><span class="line">id int primary key auto_increment,</span><br><span class="line">username varchar(50),</span><br><span class="line">password varchar(50),</span><br><span class="line">name varchar(20) not null,</span><br><span class="line">gender varchar(5),</span><br><span class="line">age int,</span><br><span class="line">address varchar(32),</span><br><span class="line">qqvarchar(20),</span><br><span class="line">email varchar(50)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">-- 2. 插入数据</span><br><span class="line">INSERT INTO USER(username,password,name,gender,age,address,qq,email)</span><br><span class="line">VALUES(&#39;zhangsan&#39;,&#39;123&#39;,&#39;张三&#39;,&#39;男&#39;,18,&#39;北京&#39;,&#39;111&#39;,&#39;111@qq.com&#39;),</span><br><span class="line">(&#39;lisi&#39;,&#39;123&#39;,&#39;李四&#39;,&#39;女&#39;,19,&#39;上海&#39;,&#39;222&#39;,&#39;222@qq.com&#39;),</span><br><span class="line">(&#39;wangwu&#39;,&#39;123&#39;,&#39;王五&#39;,&#39;男&#39;,20,&#39;广州&#39;,&#39;333&#39;,&#39;333@qq.com&#39;),</span><br><span class="line">(&#39;zhaoliu&#39;,&#39;123&#39;,&#39;赵六&#39;,&#39;女&#39;,21,&#39;深圳&#39;,&#39;444&#39;,&#39;444@qq.com&#39;),</span><br><span class="line">(&#39;sunqi&#39;,&#39;123&#39;,&#39;孙七&#39;,&#39;男&#39;,22,&#39;北京&#39;,&#39;555&#39;,&#39;555@qq.com&#39;),</span><br><span class="line">(&#39;zhouba&#39;,&#39;123&#39;,&#39;周八&#39;,&#39;女&#39;,23,&#39;上海&#39;,&#39;666&#39;,&#39;666@qq.com&#39;)</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 技术教程 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> SSM分页 - 实现分页功能 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>修改Docker映射端口</title>
      <link href="2021/09/16/%E4%BF%AE%E6%94%B9Docker%E6%98%A0%E5%B0%84%E7%AB%AF%E5%8F%A3/"/>
      <url>2021/09/16/%E4%BF%AE%E6%94%B9Docker%E6%98%A0%E5%B0%84%E7%AB%AF%E5%8F%A3/</url>
      
        <content type="html"><![CDATA[<ol><li><p>使用docker ps -aqf “name=qinglong” 查看Docker容器的ID，其中”qinglong”为你的容器名称：</p><p><img src="https://cdn.jsdelivr.net/gh/arvinsblog/cdn@master/img/202109271628938.png" alt="image-20210916094724874"></p></li><li><p>停止该容器：docker stop f42948012058</p><p><img src="https://cdn.jsdelivr.net/gh/arvinsblog/cdn@master/img/202109271628939.png" alt="image-20210916095014166"></p></li><li><p>停止docker服务：systemctl stop docker</p><p>这里会弹出警告，这是因为除了docker.service单元文件，还有一个docker.socket单元文件…docker.socket这是用于套接字激活。<br>该警告意味着：如果你试图连接到docker socket，而docker服务没有运行，系统将自动启动docker。</p><ul><li><p>解决方案一：<br>你可以删除 /lib/systemd/system/docker.socket<br>从docker中 docker.service 文件 删除 fd://，即remove -H fd://</p></li><li><p>解决方案二：<br>如果不想被访问时自动启动服务<br>输入命令：sudo systemctl stop docker.socket</p></li></ul></li><li><p>使用cd /var/lib/docker/containers/f42948012058*进入容器的文件内</p><p><img src="https://cdn.jsdelivr.net/gh/arvinsblog/cdn@master/img/202109271628940.png" alt="image-20210916095933005"></p><ul><li><p>输入vi hostconfig.json</p></li><li><p>修改这个容器的hostconfig.json文件中的端口</p></li><li><p>找到”PortBindings”:{“5700/tcp”:[{“HostIp”:””,”HostPort”:”5700”}]}该字段，进行修改。（前一个数字是容器端口，后一个是宿主机端口）</p></li></ul><p><img src="https://cdn.jsdelivr.net/gh/arvinsblog/cdn@master/img/202109271628942.png" alt="image-20210916101724038"></p><ul><li>（有人提到，如果config.v2.json里面也记录了端口，也要修改）</li></ul></li><li><p>启动docker服务(systemctl start docker)</p></li><li><p>启动容器(docker start f42948012058)</p></li></ol>]]></content>
      
      
      <categories>
          
          <category> 网络技巧 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Docker - 端口 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>建站感言</title>
      <link href="2021/05/14/%E7%AC%AC%E4%B8%80%E7%AF%87%E6%96%87%E7%AB%A0/"/>
      <url>2021/05/14/%E7%AC%AC%E4%B8%80%E7%AF%87%E6%96%87%E7%AB%A0/</url>
      
        <content type="html"><![CDATA[<p>之前一直有想搭建个博客，也有人来找我问过关于Hexo搭建的一些问题，看到一个二个大佬都搞出来了，后来自己终于坐不住了，决心把他搞出来。前后折腾了几天，看了相关大佬的教程，问了同学，当然这过程中出现许多Bug，当然也少不了百度。</p><p>最后终于把这个Blog给建好了。花费的时间主要是部署到gitee、修改模板，以及瞎78乱搞其不完善的文档折腾各种疑难杂症。</p><p>有时候不得不感慨美国纵有万般不是，至少建设Hexo的还是好人居多。国内的墙在把关意识形态的同时，无意识地把一些基础建设挡在外面，不得不说是一个遗憾事。这玩意用Markdown写，对于我这种不会使用MK的还得套用别个的模板多熟悉熟悉。虽然不会在网站上写出啥爆款文章。但如果你真的需要转载些啥，还请发个信息让我知道。通常我不大会在意转载需要的费用，但肯定会在乎“名分”。还请多多包涵！</p>]]></content>
      
      
      <categories>
          
          <category> 学习日志 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 学习感悟 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>零基础搭建个人博客</title>
      <link href="2021/05/14/%E9%9B%B6%E5%9F%BA%E7%A1%80%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2/"/>
      <url>2021/05/14/%E9%9B%B6%E5%9F%BA%E7%A1%80%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2/</url>
      
        <content type="html"><![CDATA[<h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>在经过几天努力下，我的Blog也算是搭建完了，在此给需要的人出个教程</p><p>简单说一下这个Blog的优点：</p><ul><li>无需购买服务器</li><li>无需购买域名</li><li>方便快捷</li></ul><h2 id="准备"><a href="#准备" class="headerlink" title="准备"></a>准备</h2><ul><li><p>一个码云账号，<a href="https://gitee.com/">前往注册</a></p></li><li><p>node.js工具，<a href="https://nodejs.org/en/">前往下载</a></p></li><li><p>Git工具，<a href="https://git-scm.com/">前往下载</a></p></li></ul><h2 id="开始"><a href="#开始" class="headerlink" title="开始"></a>开始</h2><ul><li><p>对于完全不会使用的新手，输入完一个命令记得按一下回车键</p></li><li><p>同时按下Win键和R键（或者点击“开始菜单”-&gt;点击“运行”）,打开运行窗口,输入“cmd”，然后输入以下命令，结果与下图相同则说明安装正确，若不正确可以卸载软件重新安装，依次输入如下两条命令然后回车，如图显示版本号，即表示安装成功。</p></li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">node -v</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm -v</span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/arvinsblog/cdn@master/img/20210518154128.png"></p><ul><li>估计大家都有被“墙”挡在外面的经历，安装hexo为了避免出现类似情况，我使用<a href="http://npm.taobao.org/">淘宝NPM镜像</a>,输入以下命令等待安装完成</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install -g cnpm --registry&#x3D;https:&#x2F;&#x2F;registry.npm.taobao.org</span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/arvinsblog/cdn@master/img/20210518154141.png"></p><ul><li>安装完成再输入如下命令查看，显示版本号即代表安装成功</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cnpm -v</span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/arvinsblog/cdn@master/img/20210518154148.png"></p><ul><li>接下来使用下面的命令安装hexo框架</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cnpm install -g hexo-cli</span><br></pre></td></tr></table></figure><ul><li>等待hexo安装完成后使用下面命令查看是否安装成功，如下图显示即为安装完成</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo -v</span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/arvinsblog/cdn@master/img/20210518154226.png"></p><ul><li>接下来在电脑上新建一个blog文件夹,该文件夹用于存放你的博客文件,然后右键单击选择“Git Bash”</li></ul><p><img src="https://cdn.jsdelivr.net/gh/arvinsblog/cdn@master/img/20210518154336.png"></p><ul><li>使用下面的命令初始化hexo，将项目文件克隆到本地</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo init</span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/arvinsblog/cdn@master/img/20210518154419.png"></p><ul><li>等待克隆完成后，会发现我们刚才创建的blog文件夹里面产生了以下文件</li></ul><p><img src="https://p4.itc.cn/images03/20201125/171cb7d547b841aaa99d893c8242e221.png"></p><ul><li>用下面这个命令，启动本地预览</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo s</span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/arvinsblog/cdn@master/img/20210518154434.png"></p><p><img src="https://cdn.jsdelivr.net/gh/arvinsblog/cdn@master/img/20210518154441.png"></p><p>浏览器访问地址 <a href="http://localhost:4000/">http://localhost:4000</a> ，即可看到一个初始化的博客，暂停本地访问按Ctrl+C</p><p><img src="https://cdn.jsdelivr.net/gh/arvinsblog/cdn@master/img/20210518154447.png"></p><h2 id="部署"><a href="#部署" class="headerlink" title="部署"></a>部署</h2><ul><li>接下来我们将博客部署到码云上面去，这样别人才能访问</li><li>登录码云，新建公开仓库，路径如图填写，与归属名一致，必须严格按照此格式，不然会影响访问，其它选项默认即可</li></ul><p><img src="https://cdn.jsdelivr.net/gh/arvinsblog/cdn@master/img/20210518154455.png"></p><p><img src="https://cdn.jsdelivr.net/gh/arvinsblog/cdn@master/img/20210518154505.png"></p><ul><li>接下来在git命令工具输入如下命令，安装一个Git部署插件，等待安装完成后会如下图显示的一个文件夹</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cnpm install --save hexo-deployer-git</span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/arvinsblog/cdn@master/img/20210518154539.png"></p><ul><li>然后我们打开博客根目录下的_config.yml这个文件，到文件最底部，找到图片所示内容进行编辑</li></ul><p><img src="https://cdn.jsdelivr.net/gh/arvinsblog/cdn@master/img/20210518154535.png"></p><p><img src="https://cdn.jsdelivr.net/gh/arvinsblog/cdn@master/img/20210518154530.png"></p><p><img src="https://cdn.jsdelivr.net/gh/arvinsblog/cdn@master/img/20210518154519.png"></p><ul><li>用如下命令将本地博客推向Gitee仓库</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo d</span><br></pre></td></tr></table></figure><p>或者</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo deploy</span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/arvinsblog/cdn@master/img/20210518154512.png"></p><ul><li>等待推送完成之后，我们在仓库开启Gitee Pages服务，要注意的是，以后我们更新博客，每一次推送到远端仓库后都要手动更新一下Gitee Pages页面</li></ul><p><img src="https://cdn.jsdelivr.net/gh/arvinsblog/cdn@master/img/20210518154601.png"></p><p><img src="https://cdn.jsdelivr.net/gh/arvinsblog/cdn@master/img/20210518154607.png"></p><p>到这里，我们的博客就已经部署成功了，Gitee Pages页面提供的网址就是我们的站点地址</p><h2 id="博客文章发布流程"><a href="#博客文章发布流程" class="headerlink" title="博客文章发布流程"></a>博客文章发布流程</h2><ul><li>在博客根目录下/source/_posts路径下，存放的是我们的博客文章，都是Markdown格式的</li><li>写好文章后前往博客根目录blog文件夹下，鼠标右键打开Git Bash进行以下操作</li></ul><p>在本地更新(包括平时文件的修改，内容的添加)博客后，用下面这个命令清除根目录下的文件public</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo clean</span><br></pre></td></tr></table></figure><p>再用下面这个命令在博客根目录下文件生成新的文件public</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo g</span><br></pre></td></tr></table></figure><p>再用下面这个命令进行本地预览</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo s</span><br></pre></td></tr></table></figure><p>确认无误后，用下面这个命令推向远端仓库</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo deploy</span><br></pre></td></tr></table></figure><p>​            或者</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo d</span><br></pre></td></tr></table></figure><p>最后去上文提到的Gitee Pages更新一下就完成博客的发布以及内容的更新了</p><h2 id="关于博客主题"><a href="#关于博客主题" class="headerlink" title="关于博客主题"></a>关于博客主题</h2><p>博客的默认主题一般都是很丑的，所以难免我们要更换主题</p><p>Hexo博客的主题是放在根目录的/themes目录下的，如图：</p><p><img src="https://cdn.jsdelivr.net/gh/arvinsblog/cdn@master/img/20210518154755.png" alt="image-20210518154723271"></p><p>你可以去网上下载自己喜欢的主题，然后打开根目录下的_config.yml文件，如下图修改theme这一项为你安装的主题名称即可</p><p><img src="https://cdn.jsdelivr.net/gh/arvinsblog/cdn@master/img/20210518154945.png"></p><p>本站主题：Butterfly，<a href="https://butterfly.js.org/posts/21cfbf15/">点击访问</a></p><p>本文改自:JC小站，<a href="https://jcxiaozhan.gitee.io/2020/10/05/%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B%EF%BC%8C%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2%20(%E4%BA%8C)/">点击查看原文</a></p>]]></content>
      
      
      <categories>
          
          <category> 技术教程 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 博客搭建 - 零基础搭建博客 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>微信提现免手续费</title>
      <link href="2021/05/14/%E5%BE%AE%E4%BF%A1%E6%8F%90%E7%8E%B0%E5%85%8D%E6%89%8B%E7%BB%AD%E8%B4%B9/"/>
      <url>2021/05/14/%E5%BE%AE%E4%BF%A1%E6%8F%90%E7%8E%B0%E5%85%8D%E6%89%8B%E7%BB%AD%E8%B4%B9/</url>
      
        <content type="html"><![CDATA[<h2 id="方法"><a href="#方法" class="headerlink" title="方法"></a>方法</h2><p>参与方法：在微信小程序中搜索“微信支付有优惠”小程序，打开后可以领取金币，平时使用微信支付一次可得一个金币，也可通过完成任务领取一定的金币，一个金币可以兑换100元免费提现额度或者兑换微信支付立减等优惠，非常实用。（注意：金币需要自行在小程序中领取）。</p><p><img src="https://cdn.jsdelivr.net/gh/arvinsblog/cdn@master/img/20210518155747.png"></p><p><img src="https://cdn.jsdelivr.net/gh/arvinsblog/cdn@master/img/20210518160132.png"></p>]]></content>
      
      
      <categories>
          
          <category> 网络技巧 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 微信提现免手续费技巧 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>全网视频免费看</title>
      <link href="2021/05/14/%E5%85%A8%E7%BD%91%E8%A7%86%E9%A2%91%E5%85%8D%E8%B4%B9%E7%9C%8B/"/>
      <url>2021/05/14/%E5%85%A8%E7%BD%91%E8%A7%86%E9%A2%91%E5%85%8D%E8%B4%B9%E7%9C%8B/</url>
      
        <content type="html"><![CDATA[<h1 id="还在花钱买VIP看视频？免费看剧观影有这个就够了！"><a href="#还在花钱买VIP看视频？免费看剧观影有这个就够了！" class="headerlink" title="还在花钱买VIP看视频？免费看剧观影有这个就够了！"></a>还在花钱买VIP看视频？免费看剧观影有这个就够了！</h1><p>相信各位闲暇之余也喜欢看看电影电视打发时间，可是现在好看的影视剧资源多数都是需要开VIP才能观看，当然也不排除开了会员就能畅享无阻，有些需要付费才能观看，即使你是VIP也需要支付费用才能观看，如果你说我开会员不就好了，可现实是各大网站视频内容不是共享的，你只开通一两家网站的会员并不能完全满足你的需求。好了，废话不多说，今天给大家推荐一个优质免费的方法，让你免费看个够。</p><h2 id="首先打开我们的网站"><a href="#首先打开我们的网站" class="headerlink" title="首先打开我们的网站"></a>首先打开我们的网站</h2><p><strong><a href="https://jx2.22wiki.top/">点我前往</a></strong></p><h2 id="接下来开始教程"><a href="#接下来开始教程" class="headerlink" title="接下来开始教程"></a>接下来开始教程</h2><p>这里以爱奇艺视频为例，<strong>其它视频站同理</strong></p><p>1.打开爱奇艺官网，搜索自己想看的电影或者电视剧，然后跳转到播放页面，将地址栏的网址复制下来;</p><p>2.然后我们复制地址栏的播放链接粘贴到我的网站里；</p><p><img src="https://cdn.jsdelivr.net/gh/arvinsblog/cdn@master/img/20210518155439.png" alt="粘贴播放链接"></p><p>3.最后我们点击播放按钮等待几秒就可以观看啦！</p><p><strong>4.如果无法播放怎么办？</strong></p><p>a.可以选择切换线路：</p><p><img src="https://cdn.jsdelivr.net/gh/arvinsblog/cdn@master/img/20210518155603.png" alt="线路选择"></p><p>b.可以联系我解答哦</p><p><strong>5.嫌麻烦怎么办？</strong></p><p>直接点击下方进入免VIP观看地址，即可在线高清观看！</p><p><strong><a href="http://film.22wiki.top/">点我进入</a></strong></p><p><img src="https://ae04.alicdn.com/kf/U0f46c6ec01d44beb8e5a101d4f81e0081.jpg" alt="主页"></p>]]></content>
      
      
      <categories>
          
          <category> 网络技巧 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 全网视频免费看 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>今日校园自动填表提交</title>
      <link href="2021/05/14/%E4%BB%8A%E6%97%A5%E6%A0%A1%E5%9B%AD%E8%87%AA%E5%8A%A8%E5%A1%AB%E8%A1%A8/"/>
      <url>2021/05/14/%E4%BB%8A%E6%97%A5%E6%A0%A1%E5%9B%AD%E8%87%AA%E5%8A%A8%E5%A1%AB%E8%A1%A8/</url>
      
        <content type="html"><![CDATA[<h1 id="教程说明-已失效，底部有新的"><a href="#教程说明-已失效，底部有新的" class="headerlink" title="教程说明(已失效，底部有新的)"></a>教程说明(已失效，底部有新的)</h1><ul><li><code>config.yml</code> 默认配置文件</li><li><code>index.py</code> 完成自动提交的py脚本</li><li><strong>★项目已打包，下载地址</strong>：<a href="https://www.lanzoui.com/b07a8dq4j">点我下载</a>，（更新于2020年12月31日，修复已知Bug，已更新收集表文件）</li><li><strong>本项目经修改，已适配川信学子的今日校园自动填表</strong></li><li><strong>请低调使用，如果辅导员说你作弊填写，那就不要再使用了哦</strong></li></ul><h1 id="使用方式"><a href="#使用方式" class="headerlink" title="使用方式"></a>使用方式</h1><blockquote><p>前提是学校的云端系统可用，那么你可以直接看下面的（配合腾讯云函数）的操作步骤，或者如果你自己有服务器，也完全可以使用定时任务挂在你自己的服务器上（个人建议使用腾讯云函数，下面是详细教程）</p></blockquote><ol><li><p>配置<code>config.yml</code>中对应的学号（username）和密码（password）还有地址（address）等等信息，详情请看<code>config.yml</code>中的注释说明，<strong>注意这里的学号和密码都是智慧校园的学号和密码</strong></p></li><li><p>打开百度搜索<a href="https://console.cloud.tencent.com/scf/index?rid=1">腾讯云函数(点我直达)</a>，注册认证后，进入控制台，点击左边的层，然后点新建，名称随意，然后点击上传zip，选择刚才下载的<code>dependency.zip</code>上传，然后选择运行环境<code>python3.6</code>，然后点击确定，耐心等待一下，上传依赖包需要花费的时间比较长!</p></li><li><p>点左边的函数服务，新建云函数，名称随意，运行环境选择：<code>python3.6</code>，创建方式选择：空白函数，然后点击：下一步</p></li><li><p>提交方法选择：在线编辑，把本地修改好的<code>index.py</code>直接全文复制粘贴到云函数的<code>index.py</code>，然后点击文件–&gt;新建，文件名命名为<code>config.yml</code>，然后把本地配置好的<code>config.yml</code>文件中的内容直接全文复制粘贴到云函数的<code>config.yml</code>文件，点击下面的：高级设置，设置超时时间为<code>60秒</code>，添加层为刚刚新建的函数依赖层，然后点击：完成</p></li></ol><ol start="5"><li>进入新建好的云函数，左边点击：触发管理，点击：创建触发器，名称随意，触发周期选择：自定义触发周期，然后配置Cron表达式，下面的表达式表示每天早上7点整执行</li></ol><p>   代码↓</p>   <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">0 0 7 * * * *</span><br></pre></td></tr></table></figure><ol start="6"><li>然后就可以测试云函数了，（失败的原因大部分是由于依赖造成的）。如遇到问题，请仔细查看日志。(下图的日志代表我这边已经提交过了，所以会报一些错误，能和图片显示的一样，基本上代表你已经成功了。如果是新版的腾讯云函数，点击右下角返回旧版即可。)</li></ol><ol start="7"><li>也可配合Windows计划任务或者使用linux定时任务、宝塔计划任务等，将脚本挂在自己的云服务器上，不会就搜索一下，过程不再阐述。</li></ol><h2 id="一些使用建议（非常重要，请仔细阅读）"><a href="#一些使用建议（非常重要，请仔细阅读）" class="headerlink" title="一些使用建议（非常重要，请仔细阅读）"></a>一些使用建议（非常重要，请仔细阅读）</h2><ol><li><h4 id="多用户执行的时候请勿中途有人先自行提交表单-也就是还没有到达自己设定的时间就已经把表单填写了-，可能会导致任务停止执行，后面的用户就无法完成自动填写"><a href="#多用户执行的时候请勿中途有人先自行提交表单-也就是还没有到达自己设定的时间就已经把表单填写了-，可能会导致任务停止执行，后面的用户就无法完成自动填写" class="headerlink" title="多用户执行的时候请勿中途有人先自行提交表单(也就是还没有到达自己设定的时间就已经把表单填写了)，可能会导致任务停止执行，后面的用户就无法完成自动填写"></a>多用户执行的时候请勿中途有人先自行提交表单(也就是还没有到达自己设定的时间就已经把表单填写了)，可能会导致任务停止执行，后面的用户就无法完成自动填写</h4></li><li><h4 id="除非收集表的问题和答案都完全一样-比如你可以添加你室友的信息共用，但其他寝室的就不能，因为寝室号不一样-，否则不建议使用多用户配置（2020-12-10-学校已经更新收集表，目测可以全校通用）"><a href="#除非收集表的问题和答案都完全一样-比如你可以添加你室友的信息共用，但其他寝室的就不能，因为寝室号不一样-，否则不建议使用多用户配置（2020-12-10-学校已经更新收集表，目测可以全校通用）" class="headerlink" title="除非收集表的问题和答案都完全一样(比如你可以添加你室友的信息共用，但其他寝室的就不能，因为寝室号不一样)，否则不建议使用多用户配置（2020-12-10 学校已经更新收集表，目测可以全校通用）"></a>除非收集表的问题和答案都完全一样(比如你可以添加你室友的信息共用，但其他寝室的就不能，因为寝室号不一样)，否则不建议使用多用户配置（2020-12-10 学校已经更新收集表，目测可以全校通用）</h4></li></ol><h1 id="说明"><a href="#说明" class="headerlink" title="说明"></a>说明</h1><ol><li><p>此项目<strong>默认配置适用于川信学院学子</strong></p></li><li><p>此项目依赖作者的一个爬虫项目<a href="https://github.com/ZimoLoveShuang/yibinu-score-crawler.git">宜宾学院教务系统成绩爬虫</a>，开放的登陆api</p></li><li><p>此项目默认提交全部正常的情况，如果有其他情况，请自行在今日校园app上提交</p></li></ol><h1 id="作者的设计思路"><a href="#作者的设计思路" class="headerlink" title="作者的设计思路"></a>作者的设计思路</h1><ol><li>模拟登陆</li><li>获取表单</li><li>填充表单</li><li>提交表单</li><li>推送消息</li></ol><h1 id="关于模拟登陆API的说明"><a href="#关于模拟登陆API的说明" class="headerlink" title="关于模拟登陆API的说明"></a>关于模拟登陆API的说明</h1><p>请看作者的<a href="https://github.com/ZimoLoveShuang/wisedu-unified-login-api.git"><code>wisedu-unified-login-api</code>项目</a></p><h1 id="关于金智教务系统的说明"><a href="#关于金智教务系统的说明" class="headerlink" title="关于金智教务系统的说明"></a>关于金智教务系统的说明</h1><ol><li>学校接入金智系统的方式有两种：<code>CLOUD</code>和<code>NOTCLOUD</code></li><li><code>CLOUD</code>方式对应的教务系统登陆页通常以<code>/iap/login</code>结尾</li><li><code>NOTCLOUD</code>方式对应的教务系统登陆页通常以<code>/authserver/login</code>结尾</li><li>目前以上两种接入方式，开发作者提供的<a href="https://github.com/ZimoLoveShuang/wisedu-unified-login-api.git">模拟登陆API</a>都能支持</li><li>以上两种接入方式，登陆原理均为CAS，接口略有一点不同，但大同小异</li></ol><h1 id="回答一些问题"><a href="#回答一些问题" class="headerlink" title="回答一些问题"></a>回答一些问题</h1><h2 id="1-为什么要写本文章？"><a href="#1-为什么要写本文章？" class="headerlink" title="1. 为什么要写本文章？"></a>1. 为什么要写本文章？</h2><blockquote><p>答案就是个人觉得这个填表和签到已经坚持很久了，现在学校已经取消了签到，只有填表了。</p><p>但是，由于成都疫情再次出现反常，学校修改了收集表，说明还会持续填写很长时间，同学们天天都在学校及学校附近活动，对这个东西感到反感，于是改写出来分享给大家。</p><p>疫情终会过去，加油中国！</p></blockquote><h2 id="2-这个项目会一直维护下去吗？"><a href="#2-这个项目会一直维护下去吗？" class="headerlink" title="2. 这个项目会一直维护下去吗？"></a>2. 这个项目会一直维护下去吗？</h2><blockquote><p>捐赠维护，联系开源作者捐助，本人只是搬砖修改，配置自己学校的参数使用。</p></blockquote><h1 id="开源作者已禁止任何人使用此项目提供付费的代挂服务"><a href="#开源作者已禁止任何人使用此项目提供付费的代挂服务" class="headerlink" title="开源作者已禁止任何人使用此项目提供付费的代挂服务"></a>开源作者已禁止任何人使用此项目提供付费的代挂服务</h1><h4 id="1-今日校园每日自动提交收集表py脚本，支持-sever酱、酷推，Qmsg酱-推送提交结果消息（今日校园）"><a href="#1-今日校园每日自动提交收集表py脚本，支持-sever酱、酷推，Qmsg酱-推送提交结果消息（今日校园）" class="headerlink" title="1.今日校园每日自动提交收集表py脚本，支持(sever酱、酷推，Qmsg酱)推送提交结果消息（今日校园）"></a>1.今日校园每日自动提交收集表py脚本，支持(sever酱、酷推，Qmsg酱)推送提交结果消息（今日校园）</h4><h4 id="2-本文章仅供学习交流使用，如作他用所承受的任何直接、间接法律责任一概与本文以及开源作者无关"><a href="#2-本文章仅供学习交流使用，如作他用所承受的任何直接、间接法律责任一概与本文以及开源作者无关" class="headerlink" title="2.本文章仅供学习交流使用，如作他用所承受的任何直接、间接法律责任一概与本文以及开源作者无关"></a>2.本文章仅供学习交流使用，如作他用所承受的任何直接、间接法律责任一概与本文以及开源作者无关</h4><h4 id="3-如果此项目侵犯了您或者您公司的权益，请立即联系我删除"><a href="#3-如果此项目侵犯了您或者您公司的权益，请立即联系我删除" class="headerlink" title="3.如果此项目侵犯了您或者您公司的权益，请立即联系我删除"></a>3.如果此项目侵犯了您或者您公司的权益，请立即联系我删除</h4><h4 id="4-99-的问题都可以通过仔细阅读Readme-md（使用说明，也叫项目说明）解决"><a href="#4-99-的问题都可以通过仔细阅读Readme-md（使用说明，也叫项目说明）解决" class="headerlink" title="4.99%的问题都可以通过仔细阅读Readme.md（使用说明，也叫项目说明）解决"></a>4.99%的问题都可以通过仔细阅读Readme.md（使用说明，也叫项目说明）解决</h4><h4 id="5-本文改自：子墨的项目说明"><a href="#5-本文改自：子墨的项目说明" class="headerlink" title="5.本文改自：子墨的项目说明"></a>5.本文改自：<a href="https://github.com/ZimoLoveShuang/auto-submit">子墨的项目说明</a></h4><p>新的校园助手地址(支持晚签到)：<a href="https://sign.crazyi.xyz/index">点我进入</a></p>]]></content>
      
      
      <categories>
          
          <category> 技术教程 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 今日校园自动填写表单 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>WIN10一键PHP+MySQL环境配置集成phpStudy软件</title>
      <link href="2021/05/14/WIN10%E4%B8%80%E9%94%AEPHP+MySQL%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE%E9%9B%86%E6%88%90phpStudy%E8%BD%AF%E4%BB%B6/"/>
      <url>2021/05/14/WIN10%E4%B8%80%E9%94%AEPHP+MySQL%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE%E9%9B%86%E6%88%90phpStudy%E8%BD%AF%E4%BB%B6/</url>
      
        <content type="html"><![CDATA[<p>PhpStudy国内12年老牌公益软件，集安全，高效，功能与一体，已获得全球用户认可安装，运维也高效。</p><p>支持一键LAMP,LNMP,PHP,集群,监控,网站,FTP,MySQL数据库,JAVA等100多项服务器管理功能。</p><p>计划任务安全功能：网站监控报表，数据同步工具网站防篡改，系统加固。</p><p><img src="https://cdn.jsdelivr.net/gh/arvinsblog/cdn@master/img/20210518160322.png"></p><p>基础功能网站：FTP，数据库监控，安全，软件管理，高级功能文件管理。</p><p>计划任务安全功能：网站监控报表，数据同步工具网站防篡改，系统加固。</p><h3 id="下载地址："><a href="#下载地址：" class="headerlink" title="下载地址："></a>下载地址：</h3><p><a href="https://www.xp.cn/download.html">官方下载</a></p>]]></content>
      
      
      <categories>
          
          <category> 网络技巧 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> PHP+MySQL环境 </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
